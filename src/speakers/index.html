<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">

<link rel="import" href="list.html">
<link rel="import" href="speaker.html">

<dom-module id="tardis-speakers">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <app-route
        route="{{route}}"
        pattern="/:id"
        data="{{routeData}}"></app-route>

    <app-route
        route="{{route}}"
        pattern="/"
        data="{{routeData}}"></app-route>

    <iron-pages role="main" selected="[[page]]" attr-for-selected="name">
      <tardis-speakers-list name="list"></tardis-speakers-list>
      <tardis-speaker name="speaker" id="[[routeData.id]]"></tardis-speaker>
    </iron-pages>

  </template>

  <script>

    Polymer({

      is: 'tardis-speakers',
      properties: {
        route: Object,
        page: String
      },

      observers: [
        '_routePageChanged(route)'
      ],

      _routePageChanged: function(route) {
        this.page = route.path ? 'speaker' : 'list';
      }
    });

  </script>

</dom-module>
